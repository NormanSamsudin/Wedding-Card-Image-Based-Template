<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@400;500;600&display=swap"
    rel="stylesheet">

<div class="rsvp-page">
    <div class="rsvp-container">

        <!-- Success Message -->
        <div *ngIf="isSubmitted" class="success-message">
            <div class="success-icon">‚úÖ</div>
            <h2>Thank You!</h2>
            <p>Your RSVP has been successfully submitted. We can't wait to celebrate with you!</p>
            <div class="success-actions">
                <button (click)="goBackToInvitation()" class="btn btn-primary">Back to Invitation</button>
                <button (click)="resetForm()" class="btn btn-secondary">Submit Another RSVP</button>
            </div>
        </div>

        <!-- RSVP Form -->
        <div *ngIf="!isSubmitted" class="rsvp-form-container">

            <!-- Header -->
            <header class="rsvp-header">
                <div class="ring-icon">üíç</div>
                <h1>RSVP</h1>
                <p class="rsvp-subtitle">Please let us know if you'll be joining us for our special day</p>
                <nav class="breadcrumb">
                    <a routerLink="/" class="breadcrumb-link">Home</a>
                    <span class="breadcrumb-separator">‚Üí</span>
                    <span class="breadcrumb-current">RSVP</span>
                </nav>
            </header>

            <!-- Form -->
            <form (ngSubmit)="onSubmit()" #rsvpFormRef="ngForm" class="rsvp-form">

                <!-- Name Field -->
                <div class="form-group">
                    <label for="name" class="form-label">Full Name *</label>
                    <input type="text" id="name" name="name" [(ngModel)]="rsvpForm.name" required class="form-input"
                        placeholder="Enter your full name">
                </div>

                <!-- Email Field -->
                <div class="form-group">
                    <label for="email" class="form-label">Email Address *</label>
                    <input type="email" id="email" name="email" [(ngModel)]="rsvpForm.email" required class="form-input"
                        placeholder="Enter your email address">
                </div>

                <!-- Family Number Field -->
                <div class="form-group">
                    <label for="familyNumber" class="form-label">Number of Family Members Attending *</label>
                    <select id="familyNumber" name="familyNumber" [(ngModel)]="rsvpForm.familyNumber" required
                        class="form-select">
                        <option value="1">1 person</option>
                        <option value="2">2 people</option>
                        <option value="3">3 people</option>
                        <option value="4">4 people</option>
                        <option value="5">5 people</option>
                        <option value="6">6+ people</option>
                    </select>
                </div>

                <!-- Attending Field -->
                <div class="form-group">
                    <label class="form-label">Will you be attending?</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="attending" [value]="true" [(ngModel)]="rsvpForm.attending">
                            <span class="radio-custom"></span>
                            Yes, I'll be there! üéâ
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="attending" [value]="false" [(ngModel)]="rsvpForm.attending">
                            <span class="radio-custom"></span>
                            Sorry, I can't make it üò¢
                        </label>
                    </div>
                </div>

                <!-- Dietary Restrictions -->
                <div class="form-group" *ngIf="rsvpForm.attending">
                    <label for="dietaryRestrictions" class="form-label">Dietary Restrictions or Allergies</label>
                    <input type="text" id="dietaryRestrictions" name="dietaryRestrictions"
                        [(ngModel)]="rsvpForm.dietaryRestrictions" class="form-input"
                        placeholder="Let us know about any dietary needs">
                </div>

                <!-- Message Field -->
                <div class="form-group">
                    <label for="message" class="form-label">Special Message (Optional)</label>
                    <textarea id="message" name="message" [(ngModel)]="rsvpForm.message" class="form-textarea" rows="4"
                        placeholder="Share your excitement or any special requests..."></textarea>
                </div>

                <!-- Submit Button -->
                <div class="form-actions">
                    <button type="submit" [disabled]="!rsvpFormRef.form.valid || isLoading"
                        class="btn btn-primary btn-submit">
                        <span *ngIf="!isLoading">Submit RSVP</span>
                        <span *ngIf="isLoading">Submitting... ‚è≥</span>
                    </button>
                    <button type="button" (click)="goBackToInvitation()" class="btn btn-secondary">
                        Back to Invitation
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>